/**
 * Set up the page and fix any cross-browser weirdness
 */

/**
 * Site setup
 */

:root {
	/**
	 * Global variables we want to use on potentially any
	 * element.
	 */

	--bg    : var(--c-bg);
	--border: 0;
	--color : var(--c-running);
	--ff    : var(--ff-running);
	--fs    : var(--fs-running);
	--fw    : var(--fw-normal);

	background-color: var(--bg);
	color           : var(--color);
	font-family     : var(--ff);
	font-size       : 20px; // fallback
	font-size       : var(--fs);
	font-weight     : var(--fw);
	line-height     : var(--leading);
	min-height      : 0; // Safari resize fix
	overflow-x      : hidden; // prevent annoying scrollbars for width rounding errors etc
	scroll-behavior : smooth;
}

*,
:after,
:before {
	border-style: solid;
	border-width: 0;
	box-sizing  : border-box;
	font-variation-settings:
		var(--ff-recursive--mono),
		var(--ff-recursive--slnt),
		var(--ff-recursive--crsv);
	margin        : 0;
	max-width     : 100vw;
	outline       : 0;
	overflow-wrap : break-word;
	padding       : 0;
	vertical-align: baseline;
}

:target {
	animation-name           : focus-highlight;
	animation-duration       : 9s;
	animation-iteration-count: 1;
}

*+* {
	margin-top: beats(1);
}

/**
 * Change the cursor on busy elements in all browsers.
 */

[aria-busy="true"] {
	cursor: progress;
}

/*
 * Change the cursor on control elements in all browsers.
 */

[aria-controls] {
	cursor: pointer;
}

/*
 * Change the cursor on disabled, not-editable, or otherwise
 * inoperable elements in all browsers.
 */

[aria-disabled="true"],
[disabled] {
	cursor: not-allowed;
}

/*
 * Remove the tapping delay on clickable elements in all browsers.
 */

a,
area,
button,
input,
label,
select,
summary,
textarea,
[tabindex] {
	touch-action: manipulation;
}

audio,
canvas,
iframe,
img,
svg,
video {
	vertical-align: middle;
}

button,
input,
optgroup,
select,
textarea {
	font-family: inherit;
	font-size  : 100%;
}

/**
 * Correct the inability to style clickable types in iOS and Safari.
 */

button,
[type="button"],
[type="reset"],
[type="submit"] {
	-webkit-appearance: button;
}

/**
 * Chrome, Safari & Edge don't get this right
 */
b,
strong {
	font-weight: bolder;
}

/*
 * Add the correct display in Edge, IE 10+, and Firefox.
 */

details {
	display: block;
}

iframe {
	border-style: none;
}

/*
 * Add the correct display in all browsers.
 */

summary {
	display: list-item;
}

/**
 * Prevent `sub` and `sup` elements from affecting the line height in
 * all browsers.
 */

sub,
sup {
	font-size     : 75%;
	line-height   : 0;
	position      : relative;
	vertical-align: baseline;
}

sub {
	bottom: -0.25em;
}

sup {
	top: -0.5em;
}

/**
 * Correct the text style of placeholders in Chrome, Edge, and Safari.
 */

::-webkit-input-placeholder {
	color  : inherit;
	opacity: 0.54;
}
